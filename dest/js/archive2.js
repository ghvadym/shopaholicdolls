(function(e){e(document).ready(function(){var c=archivesetting.cat_slug,r=e(window).width();if(r<=1024){let i=function(){a||l||d?(e(".close_filters").hide(),e(".clear_filters, .apply_filters").show()):(e(".clear_filters, .apply_filters").hide(),e(".close_filters").show())};var w=i,a=e(".input-checkbox:checked").length>0,l=e("#from").val().trim()!==""||e("#to").val().trim()!=="",d=window.location.search!=="";i(),e(".input-checkbox").change(function(){a=e(".input-checkbox:checked").length>0,i()}),e("#from, #to").keyup(function(){l=e("#from").val().trim()!==""||e("#to").val().trim()!=="",i()})}if(e(".checkbox_item.active").each(function(){if(e(this).is(":last-child")&&e(this).hasClass("active")){var i=e(this).find(".subcategories"),t=i.last(),o=t.outerHeight(!0);i.parents(".subcategories").css("--before-height","calc(100% - "+o+"px)")}}),r<=1024){let i=function(){var t=e(".filter");t.length&&s-f>50&&(t.removeClass("active-filter"),e("body").removeClass("active-filter"))};var y=i;e(document).ready(function(){function t(){var o=e(".filter");o.css("height",window.innerHeight+"px")}t(),window.onresize=function(){t()}}),e(document).on("click",".mob-title, .mob-filter__close",function(){var t=e(".filter");t.length&&(e(t).toggleClass("active-filter"),e(t).hasClass("active-filter")?e("body").addClass("active-filter"):e("body").removeClass("active-filter"))}),e(document).on("click",".mob-filter__bg , .close_filters",function(){e(".filter, body").removeClass("active-filter")});var s=0,f=0;e(document).on("touchstart",function(t){s=t.touches[0].clientX}),e(document).on("touchend",function(t){f=t.changedTouches[0].clientX,i()})}e(document).on("click","#clear_all",function(){window.location.href=window.location.origin+window.location.pathname});var m=e(".apply_filters");m.on("click",function(){console.log(123);var i=e("#from").val(),t=e("#to").val(),o=[];e(".input-checkbox:checked").each(function(){o.push(e(this).attr("id"))});var u=window.location.href,p=new RegExp(`/${c}/([^/?]*)`),h=u.match(p),g=h?h[1]:"",v=u.split("?"),_=v.length>1?v[1]:"",n=new URLSearchParams(_);n.set("categories",o.join(",")),i&&n.set("from",encodeURIComponent(i)),t&&n.set("to",encodeURIComponent(t)),window.location.href=`/${c}/`+g+"?"+n.toString()}),e(".range-inputs input").keyup(function(i){/\D/g.test(this.value)&&(this.value=this.value.replace(/\D/g,""))})})})(jQuery);
